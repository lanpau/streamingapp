---
phase: 01-foundation
plan: 02
type: execute
---

<objective>
Initialize iOS project using Tuist for project generation with SwiftUI app skeleton.

Purpose: Establish iOS app foundation with modern project management (Tuist) that both streamer and viewer features will build upon.
Output: Tuist-managed iOS project with SwiftUI home screen showing Start/Find Stream buttons.
</objective>

<execution_context>
./.claude/get-shit-done/workflows/execute-phase.md
./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

**Phase 1 Goal:** Set up project structure with backend (FastAPI + uv) and iOS (Tuist) scaffolding

**Tech Decisions:**
- Swift with SwiftUI (per PROJECT.md)
- Tuist for project management (user preference, avoids Xcode project file conflicts)
- iOS 17+ minimum (modern SwiftUI features)
- Bundle ID: com.streamlive.app (placeholder)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Initialize Tuist Project Structure</name>
  <files>ios/Tuist/Config.swift, ios/Project.swift, ios/Tuist/Package.swift, ios/.gitignore</files>
  <action>
    1. Create `ios/` directory at project root
    
    2. Create `Tuist/Config.swift`:
       - Set generation options (prefer project over workspace for single app)
       - Configure compatible Xcode versions (15.0+)
    
    3. Create `Project.swift`:
       - Name: "StreamLive"
       - Organization: "StreamLive"
       - Target: StreamLive (iOS app)
         - Platform: .iOS
         - Deployments: .iOS("17.0")
         - Sources: "Sources/**"
         - Resources: "Resources/**"
         - Bundle ID: "com.streamlive.app"
         - Info.plist: Generate with required keys
       - Settings: Debug and Release configurations
    
    4. Create `Tuist/Package.swift` (empty for now, placeholder for SPM deps)
    
    5. Create `.gitignore` for iOS:
       - Derived/, *.xcworkspace, *.xcodeproj (generated by Tuist)
       - .build/, .swiftpm/
    
    6. Create directory structure: Sources/, Resources/
    
    Use Tuist 4.x syntax (Project.swift, not Manifest.swift).
    Do NOT create Info.plist manually — let Tuist generate it.
  </action>
  <verify>cd ios && tuist generate && ls -la *.xcworkspace</verify>
  <done>tuist generate creates StreamLive.xcworkspace without errors</done>
</task>

<task type="auto">
  <name>Task 2: Create SwiftUI App Shell</name>
  <files>ios/Sources/StreamLiveApp.swift, ios/Sources/Views/HomeView.swift, ios/Sources/Views/ContentView.swift</files>
  <action>
    1. Create `Sources/StreamLiveApp.swift`:
       - @main entry point
       - WindowGroup with ContentView
       - Basic app structure for iOS 17
    
    2. Create `Sources/ContentView.swift`:
       - NavigationStack wrapper
       - HomeView as root
    
    3. Create `Sources/Views/HomeView.swift`:
       - VStack with app title "StreamLive"
       - Two buttons:
         - "Start Stream" (NavigationLink, destination: placeholder)
         - "Find Stream" (NavigationLink, destination: placeholder)
       - Minimal styling (SF Symbols for icons)
       - Placeholder destinations (Text("Coming soon"))
    
    4. Create `Resources/Assets.xcassets` directory structure:
       - Contents.json for asset catalog
       - AccentColor.colorset (any color)
       - AppIcon.appiconset (empty, placeholder)
    
    Use iOS 17 SwiftUI patterns (NavigationStack not NavigationView).
    Do NOT add any networking or streaming code yet — pure UI skeleton.
  </action>
  <verify>
    cd ios && tuist generate && tuist build
    # Or: xcodebuild -workspace StreamLive.xcworkspace -scheme StreamLive -destination 'platform=iOS Simulator,name=iPhone 15' build
  </verify>
  <done>Project builds successfully, app structure ready for feature development</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>iOS app with Tuist project structure and SwiftUI home screen</what-built>
  <how-to-verify>
    1. Run: cd ios && tuist generate
    2. Open: StreamLive.xcworkspace in Xcode
    3. Select iPhone 15 simulator
    4. Run (Cmd+R)
    5. Confirm: App launches with "StreamLive" title and two buttons
    6. Tap buttons: Should navigate to placeholder screens
  </how-to-verify>
  <resume-signal>Type "approved" if app runs correctly, or describe any issues</resume-signal>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `cd ios && tuist generate` creates Xcode workspace
- [ ] `tuist build` completes without errors
- [ ] App runs in iOS Simulator
- [ ] Home screen shows "Start Stream" and "Find Stream" buttons
- [ ] Navigation works (buttons navigate to placeholder views)
</verification>

<success_criteria>

- Tuist manifests valid and generate Xcode project
- iOS app builds and runs on simulator
- SwiftUI home screen with navigation structure
- Project ready for feature development
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-02-SUMMARY.md` with:
- One-liner about what was built
- Files created
- Any decisions made (Tuist version, SwiftUI patterns)
- Next: Ready for 01-03-PLAN.md (Local Dev Environment)
</output>
